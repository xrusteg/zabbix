# zabbix
Скрипты для вычисления энергопотребления.
Для get_from_bd.pl использовал external check (внешние проверки), в качестве аргумента принимается ip. Для соответствующего ip 
в соответствующую секунду будут извлекатся начальные показания для периода, поэтому секунды задаются вручную.
В БД заббикса время хранится в timestamp.

Для get_by_snmp.pl создается дополнительный элемент данных, который хранит значение с начала периода (один раз опрашивает, оставшееся время хранит
в файле, из которого возвращает в заббикс). По идее должно работать по формуле (get_ener_cons[...] - отдельный элемент данных), но ругается на
get_ener_cons:
last("ups-1:apc.OutputEnergyUsage") - last("ups-1:get_ener_cons.pl[\"1\"]") + last("ups-2:apc.OutputEnergyUsage") 
- last("ups-2:get_ener_cons.pl[\"2\"]") - для get_by_snmp.pl (финальный элемент данных, промежуточный тоже external check)
get_from_db.pl["{HOST.CONN}"] - вставляется в шаблон для get_from_db.pl
